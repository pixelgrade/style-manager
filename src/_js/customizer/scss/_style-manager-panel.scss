$sm-colors-id: unquote( '#accordion-section-sm_color_palettes_section' );
$sm-fonts-id: unquote( '#accordion-section-sm_font_palettes_section' );
$sm-spacing-id: unquote( '#accordion-section-sm_spacing_section' );
$sm-tweak-board-id: unquote( '#accordion-section-sm_tweak_board_section' );

// Make icons stand out
#customize-theme-controls {

  [id="sub-accordion-panel-style_manager_panel"] {

    > li:not(.customize-info) {

      + li > .accordion-section-title {
        margin-top: calc( 0.5 * var(--customizer-spacing) );
      }

      // Higher specificity variant to override WP 6.9+ padding:0 rule
      // WP 6.9 uses: #customize-controls .current-panel .control-section > h3.accordion-section-title:has(button.accordion-trigger) { padding: 0 }
      &.control-section > h3.accordion-section-title,
      > .accordion-section-title {
        padding: calc( 0.75 * var(--customizer-spacing) ) 14px;
      }

      > .accordion-section-title {
        @include section-title-with-icon;
        justify-content: flex-start;

        border-top-width: 1px;
        border-bottom-width: 1px;

        font-size: 18px;
        letter-spacing: -0.01em;

        // WP 6.9+ wraps section title text in a button.accordion-trigger
        // Reset its styles so the parent h3 controls the layout
        button.accordion-trigger {
          all: unset;
          display: flex;
          align-items: center;
          flex: 1 1 auto;
          font: inherit;
          letter-spacing: inherit;
          cursor: pointer;
        }

        &:before {
          content: "";
          width: 2em;
          height: 2em;
          min-width: 2em;
          flex-shrink: 0;
          margin-right: 15px;

          display: flex;
          align-items: center;
          justify-content: center;
          text-align: center;

          border-radius: 50%;
          color: var(--sm-color-palette-neutral-color-2);

          transform: rotate(0deg);
          transition: all 0.3s;
        }
      }
    }
  }

  #{$sm-colors-id} {
    > .accordion-section-title:before {
      background: conic-gradient(from 180deg at 50% 50%, #020031 0deg, #090035 4.68deg, #2B045E 29.09deg, #3E0578 37.08deg, #7708BE 64.88deg, #C80EEC 108.66deg, #E839DE 147.4deg, #F35AAA 159.09deg, #F8668A 168.49deg, #FFA290 179.83deg, #FE8E68 180.64deg, #FF8134 191.01deg, #FFB97D 199.96deg, #F7BD4F 206.51deg, #F3C07A 219.02deg, #EBD4C3 226.4deg, #DEDFE3 246.49deg, #D8E7F8 269.42deg, #94D7FC 277.72deg, rgba(0, 156, 233, 0.87) 306.55deg, #0058AA 322.31deg, #02205D 343.18deg, #020031 360deg);
    }

    &:hover > .accordion-section-title:before {
      transform: rotate(30deg);
    }
  }

  #{$sm-fonts-id} {

    > .accordion-section-title:before {
      background-color: var(--sm-color-palette-accent-color-10);
      background-image: url("../../images/section-fonts.svg");
      background-size: 20px 20px;
      background-repeat: no-repeat;
      background-position: 50% 50%;
    }
  }

  #{$sm-tweak-board-id} {

    > .accordion-section-title:before {
      background-color: var(--sm-color-palette-accent-color-6);
      background-image: url("../../images/section-tweak-board.svg");
      background-size: 20px 20px;
      background-repeat: no-repeat;
      background-position: 50% 50%;
    }
  }

  #{$sm-spacing-id} {
    > .accordion-section-title:before {
      background: linear-gradient(
        180deg,
        var(--sm-color-palette-accent-color-4) 35%,
        transparent 35%,
        transparent 65%,
        var(--sm-color-palette-accent-color-6) 65%
      );
    }

    &:hover .accordion-section-title:before {
      background: linear-gradient(
        180deg,
        var(--sm-color-palette-accent-color-4) 45%,
        transparent 45%,
        transparent 55%,
        var(--sm-color-palette-accent-color-6) 55%
      );
    }

  }
}
