!function(){"use strict";var e={d:function(t,n){for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r:function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{default:function(){return a}});window.jQuery;function n(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var o="color-scheme-dark-temp";function i(){var e,t,n;return function(){try{return window.self!==window.top}catch(e){return!0}}()&&(null===(e=window)||void 0===e||null===(t=e.parent)||void 0===t||null===(n=t.wp)||void 0===n?void 0:n.customize)}var a=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.initialize()}var t,a,r;return t=e,(a=[{key:"initialize",value:function(){var e,t,n=this;this.darkModeSetting=null===(e=window.document.documentElement.dataset)||void 0===e?void 0:e.darkModeAdvanced,this.matchMedia=window.matchMedia("(prefers-color-scheme: dark)"),this.storageItemKey="color-scheme-dark",t=function(){(i()||window.document.body.classList.contains("logged-in"))&&(localStorage.removeItem(o),n.storageItemKey=o),i()&&n.initializeCustomizePreview(),n.bindEvents(),n.update()},"loading"!=document.readyState?t():document.addEventListener("DOMContentLoaded",t)}},{key:"initializeCustomizePreview",value:function(){var e=this;window.parent.wp.customize("sm_dark_mode_advanced",(function(t){t.bind((function(t){e.darkModeSetting=t,localStorage.removeItem(o),e.update()}))}))}},{key:"bindEvents",value:function(){var e=this;window.document.querySelectorAll(".js-sm-dark-mode-toggle").forEach((function(t){t.addEventListener("click",e.onClick.bind(e))})),this.matchMedia.addEventListener("change",(function(){localStorage.removeItem(o),e.update()}))}},{key:"onClick",value:function(e){e.preventDefault(),localStorage.setItem(this.storageItemKey,this.isCompiledDark()?"light":"dark"),this.update()}},{key:"isSystemDark",value:function(){var e="on"===this.darkModeSetting;return"auto"===this.darkModeSetting&&this.matchMedia.matches&&(e=!0),e}},{key:"isCompiledDark",value:function(){var e=this.isSystemDark(),t=localStorage.getItem(this.storageItemKey);return null!==t&&(e="dark"===t),e}},{key:"update",value:function(){this.isCompiledDark()?window.document.documentElement.classList.add("is-dark"):window.document.documentElement.classList.remove("is-dark")}}])&&n(t.prototype,a),r&&n(t,r),e}());(window.sm=window.sm||{}).darkMode=t}();